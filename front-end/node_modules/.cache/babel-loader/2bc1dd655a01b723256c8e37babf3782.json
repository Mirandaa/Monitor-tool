{"ast":null,"code":"import _slicedToArray from \"/Users/mac/Desktop/citi/monitor-tool/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/Users/mac/Desktop/citi/monitor-tool/src/views/applications/Applications.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport ReactECharts from 'echarts-for-react';\nimport { getExampleData } from '../../api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar Page = function Page() {\n  _s();\n\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      option = _useState2[0],\n      setOption = _useState2[1];\n\n  useEffect(function () {\n    getExampleData().then(function (graph) {\n      setOption({\n        tooltip: {\n          trigger: 'item',\n          formatter: function formatter(params, ticket, callback) {\n            var res = '<p>' + params.name + '</p>';\n            setTimeout(function () {\n              // 仅为了模拟异步回调\n              callback(ticket, res); //回调函数，这里可以做异步请求加载的一些代码\n            });\n            return 'loading'; // $.get('detail?name=' + params.name, function (content) {\n            //   callback(ticket, toHTML(content));\n            // });\n            // return 'Loading';\n            // var appName = params.name;\n            // var res = '<p>'+appName+'</p>';\n            // for(var i = 0;i<$imgs.length;i++){\n            //     if($imgs[i].area == $pna){\n            //         res = '<img src=\"`+ $imgs[i].url +`\" />';//设置自定义数据的模板，这里的模板是图片\n            //         //console.log(res);\n            //         break;\n            //     }\n            // }\n            // setTimeout(function (){\n            //     // 仅为了模拟异步回调\n            //     callback(ticket, res);//回调函数，这里可以做异步请求加载的一些代码\n            // }, 1000)\n            // return 'loading';\n          }\n        },\n        legend: [{\n          data: graph.categories.map(function (a) {\n            return a.name;\n          })\n        }],\n        series: [{\n          // name: 'Les Miserables',\n          type: 'graph',\n          layout: 'none',\n          data: graph.nodes,\n          links: graph.links,\n          categories: graph.categories,\n          roam: true,\n          label: {\n            show: true,\n            position: 'right',\n            formatter: '{b}'\n          },\n          labelLayout: {\n            hideOverlap: true\n          },\n          scaleLimit: {\n            min: 0.4,\n            max: 2\n          },\n          lineStyle: {\n            color: 'source',\n            curveness: 0.3\n          }\n        }]\n      });\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(ReactECharts, {\n    option: option,\n    style: {\n      height: '700px',\n      width: '100%'\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 10\n  }, _this);\n};\n\n_s(Page, \"JU5HNFNFTha49/pzHneT7OkeO8Q=\");\n\n_c = Page;\nexport default Page;\n\nvar _c;\n\n$RefreshReg$(_c, \"Page\");","map":{"version":3,"sources":["/Users/mac/Desktop/citi/monitor-tool/src/views/applications/Applications.js"],"names":["React","useState","useEffect","ReactECharts","getExampleData","Page","option","setOption","then","graph","tooltip","trigger","formatter","params","ticket","callback","res","name","setTimeout","legend","data","categories","map","a","series","type","layout","nodes","links","roam","label","show","position","labelLayout","hideOverlap","scaleLimit","min","max","lineStyle","color","curveness","height","width"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,YAAP,MAAyB,mBAAzB;AACA,SAASC,cAAT,QAA+B,WAA/B;;;AACA,IAAMC,IAAI,GAAG,SAAPA,IAAO,GAAM;AAAA;;AAAA,kBACWJ,QAAQ,CAAC,EAAD,CADnB;AAAA;AAAA,MACVK,MADU;AAAA,MACFC,SADE;;AAEjBL,EAAAA,SAAS,CAAC,YAAM;AACdE,IAAAA,cAAc,GAAGI,IAAjB,CAAsB,UAACC,KAAD,EAAW;AAC/BF,MAAAA,SAAS,CAAC;AACRG,QAAAA,OAAO,EAAE;AACPC,UAAAA,OAAO,EAAE,MADF;AAEPC,UAAAA,SAAS,EAAE,mBAAUC,MAAV,EAAiBC,MAAjB,EAAwBC,QAAxB,EAAkC;AAC3C,gBAAIC,GAAG,GAAG,QAAMH,MAAM,CAACI,IAAb,GAAkB,MAA5B;AACAC,YAAAA,UAAU,CAAC,YAAY;AACrB;AACAH,cAAAA,QAAQ,CAACD,MAAD,EAASE,GAAT,CAAR,CAFqB,CAEC;AACvB,aAHS,CAAV;AAIA,mBAAO,SAAP,CAN2C,CAO3C;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACD;AA7BM,SADD;AAgCRG,QAAAA,MAAM,EAAE,CAAC;AACPC,UAAAA,IAAI,EAAEX,KAAK,CAACY,UAAN,CAAiBC,GAAjB,CAAqB,UAAUC,CAAV,EAAa;AACtC,mBAAOA,CAAC,CAACN,IAAT;AACD,WAFK;AADC,SAAD,CAhCA;AAqCRO,QAAAA,MAAM,EAAE,CACN;AACE;AACAC,UAAAA,IAAI,EAAE,OAFR;AAGEC,UAAAA,MAAM,EAAE,MAHV;AAIEN,UAAAA,IAAI,EAAEX,KAAK,CAACkB,KAJd;AAKEC,UAAAA,KAAK,EAAEnB,KAAK,CAACmB,KALf;AAMEP,UAAAA,UAAU,EAAEZ,KAAK,CAACY,UANpB;AAOEQ,UAAAA,IAAI,EAAE,IAPR;AAQEC,UAAAA,KAAK,EAAE;AACLC,YAAAA,IAAI,EAAE,IADD;AAELC,YAAAA,QAAQ,EAAE,OAFL;AAGLpB,YAAAA,SAAS,EAAE;AAHN,WART;AAaEqB,UAAAA,WAAW,EAAE;AACXC,YAAAA,WAAW,EAAE;AADF,WAbf;AAgBEC,UAAAA,UAAU,EAAE;AACVC,YAAAA,GAAG,EAAE,GADK;AAEVC,YAAAA,GAAG,EAAE;AAFK,WAhBd;AAoBEC,UAAAA,SAAS,EAAE;AACTC,YAAAA,KAAK,EAAE,QADE;AAETC,YAAAA,SAAS,EAAE;AAFF;AApBb,SADM;AArCA,OAAD,CAAT;AAiED,KAlED;AAmED,GApEQ,EAoEN,EApEM,CAAT;AAuEA,sBAAO,QAAC,YAAD;AACL,IAAA,MAAM,EAAElC,MADH;AAEL,IAAA,KAAK,EAAE;AAAEmC,MAAAA,MAAM,EAAE,OAAV;AAAmBC,MAAAA,KAAK,EAAE;AAA1B;AAFF;AAAA;AAAA;AAAA;AAAA,WAAP;AAID,CA7ED;;GAAMrC,I;;KAAAA,I;AA+EN,eAAeA,IAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport ReactECharts from 'echarts-for-react';\nimport { getExampleData } from '../../api';\nconst Page = () => {\n  const [option, setOption] = useState({});\n  useEffect(() => {\n    getExampleData().then((graph) => {\n      setOption({\n        tooltip: {\n          trigger: 'item',\n          formatter: function (params,ticket,callback) {\n            var res = '<p>'+params.name+'</p>';\n            setTimeout(function () {\n              // 仅为了模拟异步回调\n              callback(ticket, res);//回调函数，这里可以做异步请求加载的一些代码\n            });\n            return 'loading';\n            // $.get('detail?name=' + params.name, function (content) {\n            //   callback(ticket, toHTML(content));\n            // });\n            // return 'Loading';\n            // var appName = params.name;\n            // var res = '<p>'+appName+'</p>';\n            \n            // for(var i = 0;i<$imgs.length;i++){\n            //     if($imgs[i].area == $pna){\n            //         res = '<img src=\"`+ $imgs[i].url +`\" />';//设置自定义数据的模板，这里的模板是图片\n            //         //console.log(res);\n            //         break;\n            //     }\n            // }\n            \n            // setTimeout(function (){\n            //     // 仅为了模拟异步回调\n            //     callback(ticket, res);//回调函数，这里可以做异步请求加载的一些代码\n            // }, 1000)\n            // return 'loading';\n          }\n        },\n        legend: [{\n          data: graph.categories.map(function (a) {\n            return a.name;\n          })\n        }],\n        series: [\n          {\n            // name: 'Les Miserables',\n            type: 'graph',\n            layout: 'none',\n            data: graph.nodes,\n            links: graph.links,\n            categories: graph.categories,\n            roam: true,\n            label: {\n              show: true,\n              position: 'right',\n              formatter: '{b}'\n            },\n            labelLayout: {\n              hideOverlap: true\n            },\n            scaleLimit: {\n              min: 0.4,\n              max: 2\n            },\n            lineStyle: {\n              color: 'source',\n              curveness: 0.3\n            }\n          }\n        ]\n      })\n    })\n  }, []);\n\n\n  return <ReactECharts\n    option={option}\n    style={{ height: '700px', width: '100%' }}\n  />;\n};\n\nexport default Page;"]},"metadata":{},"sourceType":"module"}